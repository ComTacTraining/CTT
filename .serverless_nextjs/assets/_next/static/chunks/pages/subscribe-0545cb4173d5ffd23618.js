_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[36],{"LwE+":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return A}));var r=n("q1tI"),a=n.n(r),o=n("tRbT"),i="https://js.stripe.com/v3",c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=null,l=function(e){return null!==s?s:s=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(u),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var n=e[t];if(c.test(n.src))return n}return null}();r&&e?console.warn(u):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(a){return void n(a)}else t(null)}))},d=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.11.0",startTime:t})}(r,n),r},p=Promise.resolve().then((function(){return l(null)})),f=!1;p.catch((function(e){f||console.warn(e)}));var m=n("eWwy"),y=n("o0o1"),v=n.n(y),b=n("HaE+"),h=n("R/WZ"),g=n("r9w1"),O=n("seUL"),j=n("rePB");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.useState)(t),a=n[0],o=n[1],i=function(t){t&&t.preventDefault(),e()},c=function(e){e.persist(),o((function(t){return E(E({},t),{},Object(j.a)({},e.target.name,e.target.value))}))};return{handleChange:c,handleSubmit:i,values:a}},x=n("U1Bd"),P=n("CUKc"),C=a.a.createElement,_=Object(h.a)((function(e){return{root:{flexGrow:1},btn:{maxWidth:"10rem",textAlign:"center",margin:"".concat(e.spacing(2),"px auto")},error:{color:e.palette.error.main},success:{color:e.palette.success.main}}})),N=function(e){var t=_(),n=Object(m.useStripe)(),i=Object(m.useElements)(),c=Object(r.useState)(!1),u=c[0],s=c[1],l=Object(r.useState)(""),d=l[0],p=l[1],f=Object(x.a)(),y=f.user,h=(f.loading,S(Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createPaymentMethod({type:"card",card:i.getElement(m.CardElement),billing_details:{address:{city:j.city,line1:j.address,postal_code:j.zip,state:j.state},email:j.email,name:j.cardName,phone:j.phone}});case 2:return t=e.sent,e.next=5,N(t);case 5:case"end":return e.stop()}}),e)}))),{cardName:"",address:"",city:"",state:"",zip:"",email:"",phone:""})),j=h.values,w=h.handleChange,E=h.handleSubmit,N=function(){var e=Object(b.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=4;break}p(t.error.message),e.next=11;break;case 4:return e.next=6,fetch("api/member/create",{method:"POST",mode:"same-origin",body:JSON.stringify({paymentMethodId:t.paymentMethod.id})});case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,k(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){s(!0)};return C(a.a.Fragment,null,u?C(o.a,{container:!0,spacing:1},C(o.a,{item:!0,xs:12},C(P.h,{className:t.success},"Thank you for your membership!"))):C("form",{onSubmit:E},C("div",{className:t.root},C(o.a,{container:!0,spacing:1},d&&C(o.a,{item:!0,xs:12},C(P.l,{className:t.error},d)),C(o.a,{item:!0,xs:12},C(g.a,{id:"cardName",name:"cardName",label:"Name on card",variant:"outlined",fullWidth:!0,onChange:w,value:j.cardName})),C(o.a,{item:!0,xs:12},C(g.a,{id:"address",name:"address",label:"Address",variant:"outlined",fullWidth:!0,onChange:w,value:j.address})),C(o.a,{item:!0,xs:6},C(g.a,{id:"city",name:"city",label:"City",variant:"outlined",fullWidth:!0,onChange:w,value:j.city})),C(o.a,{item:!0,xs:2},C(g.a,{id:"state",name:"state",label:"State",variant:"outlined",fullWidth:!0,onChange:w,value:j.state})),C(o.a,{item:!0,xs:4},C(g.a,{id:"zip",name:"zip",label:"Zipcode",variant:"outlined",fullWidth:!0,onChange:w,value:j.zipcode})),C(o.a,{item:!0,xs:6},C(g.a,{id:"email",name:"email",label:"Email",variant:"outlined",fullWidth:!0,onChange:w,value:j.email})),C(o.a,{item:!0,xs:6},C(g.a,{id:"phone",name:"phone",label:"Phone #",variant:"outlined",fullWidth:!0,onChange:w,value:j.phone})),C(o.a,{item:!0,xs:12},C(m.CardElement,null)),C(o.a,{item:!0,xs:12},C(O.a,{type:"submit",color:"primary",disabled:!n||!y,className:t.btn},"Submit"))))))},k=n("wb2y"),T=a.a.createElement,R=Object(h.a)((function(e){return{root:{flexGrow:1,color:e.palette.text.primary,"& > div":{padding:e.spacing(2)}}}})),q=function(){var e=R();return T(o.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},T(o.a,{item:!0},T(P.g,null,"Order Summary"),T(k.a,{variant:"middle"})),T(o.a,{item:!0},T(P.j,null,"Standard subscription: $40.00 / monthly")),T(o.a,{item:!0},T(k.a,{variant:"middle"}),T(P.l,null,"Today's charge: $40.00")))},I=n("PJBg"),W=a.a.createElement,A=!0;t.default=function(e){var t=e.stripeKey,n=Object(x.a)(),r=n.loading,a=n.user,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f=!0;var r=Date.now();return p.then((function(e){return d(e,t,r)}))}(t);return!r&&a?W(o.a,{container:!0},W(o.a,{item:!0,xs:!0},W(m.Elements,{stripe:i},W(N,null))),W(o.a,{item:!0,xs:!0},W(q,null))):W(I.a,null)}},MquD:function(e,t,n){"use strict";var r=n("q1tI"),a=r.createContext({});t.a=a},PJBg:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),o=n("WMhW"),i=n("U1Bd"),c=a.a.createElement,u=function(){var e=Object(i.a)(),t=e.loading,n=e.user;return!t&&n?null:c(o.b,null,c(o.a,null,c(o.d,{slot:"sign-up",headerText:"Sign up for a free demo",formFields:[{type:"username"},{type:"password"},{type:"email"}]}),c(o.c,{slot:"sign-in",headerText:"Have an account? Sign in."})))}},QHDu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscribe",function(){return n("LwE+")}])},U1Bd:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("HaE+"),i=n("q1tI"),c=n("v4IS"),u=n("Qycn");t.a=function(){var e=Object(i.useState)(!0),t=e[0],n=e[1],r=Object(i.useState)(null),s=r[0],l=r[1],d=Object(i.useState)(null),p=d[0],f=d[1];return Object(i.useEffect)((function(){(function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.currentAuthenticatedUser();case 3:t=e.sent,l(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(null);case 10:n(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()();var e=u.a.listen("auth",(function(e){var t=e.payload,n=t.event,r=t.data;switch(n){case"signIn":l(r);break;case"signOut":l(null),f(null);break;case"customOAuthState":f(r)}}));return function(){return e()}}),[]),{loading:t,user:s,custom:p}}},"eD//":function(e,t,n){"use strict";var r=n("wx14"),a=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),c=n("H2TA"),u=n("MquD"),s=o.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,l=e.component,d=void 0===l?"ul":l,p=e.dense,f=void 0!==p&&p,m=e.disablePadding,y=void 0!==m&&m,v=e.subheader,b=Object(a.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),h=o.useMemo((function(){return{dense:f}}),[f]);return o.createElement(u.a.Provider,{value:h},o.createElement(d,Object(r.a)({className:Object(i.a)(c.root,s,f&&c.dense,!y&&c.padding,v&&c.subheader),ref:t},b),v,n))}));t.a=Object(c.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(s)},eWwy:function(e,t,n){!function(e,t){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function a(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){return i(e)||c(e,t)||u()}function i(e){if(Array.isArray(e))return e}function c(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&t.hasOwnProperty("default")?t.default:t;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function d(){}function p(){}p.resetWarningCache=d;var f=function(){function e(e,t,n,r,a,o){if(o!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:p,resetWarningCache:d};return n.PropTypes=n,n},m=s((function(e){e.exports=f()})),y=function(e){return null!==e&&"object"===n(e)},v=function(e){return y(e)&&"function"===typeof e.then},b=function(e){return y(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},h="[object Object]",g=function e(t,n){if(!y(t)||!y(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===h;if(a!==(Object.prototype.toString.call(n)===h))return!1;if(!a&&!r)return!1;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var c={},u=0;u<o.length;u+=1)c[o[u]]=!0;for(var s=0;s<i.length;s+=1)c[i[s]]=!0;var l=Object.keys(c);if(l.length!==o.length)return!1;var d=t,p=n,f=function(t){return e(d[t],p[t])};return l.every(f)},O=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},j="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",w=function(e){if(null===e||b(e))return e;throw new Error(j)},E=function(e){if(v(e))return{tag:"async",stripePromise:Promise.resolve(e).then(w)};var t=w(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},S=t.createContext(null);S.displayName="ElementsContext";var x=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var n=e.stripe,r=e.options,a=e.children,i=t.useRef(!1),c=t.useRef(!0),u=t.useMemo((function(){return E(n)}),[n]),s=o(t.useState((function(){return{stripe:null,elements:null}})),2),l=s[0],d=s[1],p=O(n),f=O(r);return null!==p&&(p!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),g(r,f)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),i.current||("sync"===u.tag&&(i.current=!0,d({stripe:u.stripe,elements:u.stripe.elements(r)})),"async"===u.tag&&(i.current=!0,u.stripePromise.then((function(e){e&&c.current&&d({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){c.current=!1}}),[]),t.useEffect((function(){var e=l.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.1.2"})}),[l.stripe]),t.createElement(S.Provider,{value:l},a)};P.propTypes={stripe:m.any,options:m.object};var C=function(e){var n=t.useContext(S);return x(n,e)},_=function(){return C("calls useElements()").elements},N=function(){return C("calls useStripe()").stripe},k=function(e){return(0,e.children)(C("mounts <ElementsConsumer>"))};k.propTypes={children:m.func.isRequired};var T=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},R=function(e){return y(e)?(e.paymentRequest,a(e,["paymentRequest"])):{}},q=function(){},I=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},W=function(e,n){var r="".concat(I(e),"Element"),a=n?function(e){C("mounts <".concat(r,">"));var n=e.id,a=e.className;return t.createElement("div",{id:n,className:a})}:function(n){var a=n.id,o=n.className,i=n.options,c=void 0===i?{}:i,u=n.onBlur,s=void 0===u?q:u,l=n.onFocus,d=void 0===l?q:l,p=n.onReady,f=void 0===p?q:p,m=n.onChange,y=void 0===m?q:m,v=n.onEscape,b=void 0===v?q:v,h=n.onClick,O=void 0===h?q:h,j=C("mounts <".concat(r,">")).elements,w=t.useRef(null),E=t.useRef(null),S=T(f),x=T(s),P=T(d),_=T(O),N=T(y),k=T(b);t.useLayoutEffect((function(){if(null==w.current&&j&&null!=E.current){var t=j.create(e,c);w.current=t,t.mount(E.current),t.on("ready",(function(){return S(t)})),t.on("change",N),t.on("blur",x),t.on("focus",P),t.on("escape",k),t.on("click",_)}}));var I=t.useRef(c);return t.useEffect((function(){I.current&&I.current.paymentRequest!==c.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=R(c);0===Object.keys(e).length||g(e,R(I.current))||w.current&&(w.current.update(e),I.current=c)}),[c]),t.useEffect((function(){return function(){w.current&&w.current.destroy()}}),[]),t.createElement("div",{id:a,className:o,ref:E})};return a.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onClick:m.func,options:m.object},a.displayName=r,a.__elementType=e,a},A="undefined"===typeof window,B=W("auBankAccount",A),U=W("card",A),D=W("cardNumber",A),F=W("cardExpiry",A),L=W("cardCvc",A),M=W("fpxBank",A),z=W("iban",A),H=W("idealBank",A),J=W("paymentRequestButton",A);e.AuBankAccountElement=B,e.CardCvcElement=L,e.CardElement=U,e.CardExpiryElement=F,e.CardNumberElement=D,e.Elements=P,e.ElementsConsumer=k,e.FpxBankElement=M,e.IbanElement=z,e.IdealBankElement=H,e.PaymentRequestButtonElement=J,e.useElements=_,e.useStripe=N,Object.defineProperty(e,"__esModule",{value:!0})}(t,n("q1tI"))},seUL:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n("wx14"),a=n("Ff2n"),o=n("q1tI"),i=n.n(o),c=n("Z3vd"),u=i.a.createElement,s=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(c.a,n,t)},l=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(s,Object(r.a)({variant:"contained"},n),t)},d=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(s,Object(r.a)({variant:"outlined"},n),t)},p=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(s,Object(r.a)({size:"small"},n),t)},f=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(s,Object(r.a)({size:"medium"},n),t)},m=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return u(s,Object(r.a)({size:"large"},n),t)};t.f=c.a},ucBr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI");function a(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}}},[["QHDu",0,1,13,2,3,6,5,10,14,12]]]);